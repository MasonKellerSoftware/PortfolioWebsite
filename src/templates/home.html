{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%}
<section
  class="text-light p-3 text-center text-sm-start"
  style="
    border-bottom-style: solid;
    border-color: #ffc107;
    border-width: 0 0 2px 0;
    background-color: var(--tertiary)
  "
>
  <div class="container">
    <div class="d-sm-flex align-items-center justify-content-between">
      <div>
        <h1 class="mb-0"><span class="text-primary">Mason Keller</span></h1>
        <h5 class="text-secondary mt-0 mb-0">Aspiring Software Engineer</h5>
        <p class="text-secondary mt-0 font-size:16px">Birmingham, AL</p>
        <p
          style="font-size: 16px; padding-right: 10%; padding-bottom: 3%"
          class="lead my-3"
        >
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
          minim veniam, quis nostrud exercitation ullamco laboris nisi ut
          aliquip ex ea commodo consequat.
        </p>
        <button class="btn btn-primary btn-lg">Contact Me</button>
        <button class="btn btn-secondary btn-lg">Download Resume</button>
      </div>

      <!--Flask function for displaying images-->
      <img
        src="{{ url_for('static', filename='ProfilePic.jpg') }}"
        alt="Silly Dog"
        class="img-fluid w-50 d-none d-sm-block"
        style="border-radius: 50%; max-width: 300px; height: auto"
      />
    </div>
  </div>
</section>



<!--Cards for techstack-->
<section>
  <div class="collapse show techstack-marquee" id="techStackMarquee">
    <ul>
      {% for section in techstack %}
        {% for img in section["items"] %}
          <li class="card-techstack">
            <img src="{{ url_for('static', filename=img['img']) }}" alt="{{ img['name'] }}">
            <span class="card-body">{{ img['name'] }}</span>
          </li>
        {% endfor %}
      {% endfor %}
    </ul>
    <ul aria-hidden="true">
      {% for section in techstack %}
        {% for img in section["items"] %}
          <li class="card-techstack">
            <img src="{{ url_for('static', filename=img['img']) }}" alt="{{ img['name'] }}">
            <span class="card-body">{{ img['name'] }}</span>
          </li>
        {% endfor %}
      {% endfor %}
    </ul>
  </div>
</section>


<!-- Show all techstack cards -->
<div class="container-fluid px-0">
  <div class="w-100 text-light" style="background-color: var(--navColor);">
    <!-- Clickable header -->
    <div
      id="techstack-toggle-header"
      class="py-4 px-3"
      style="cursor: pointer; user-select: none;"
    >
      <h5 class="text-center mb-2 mb-0" id="techstack-toggle-text">
        See full techstack<span class="float-end">&#9660;</span>
      </h5>
    </div>
    <!-- Collapsible content -->
    <div class="collapse" id="aboutTechStack">
      <div class="px-3 pb-4">
        <div class="container-fluid ps-1">
          <div class="collapse show" id="AllCards" style = "justify-content: start;">
            {% for section in techstack %}
              <h4 class="mt-4 mb-3 text-light">{{ section.section }}</h4>
              <div class="row justify-content-start">
                {% for img in section["items"] %}
                  <div class="col-md-2 col-lg-2 mb-2 mt-2">
                    <div class="card card-techstack" style="min-width: 20%;">
                      <div class="row g-0 align-items-center">
                        <div class="col-4 d-flex align-items-center">
                          <img
                            src="{{ url_for('static', filename=img['img']) }}"
                            class="img-fluid rounded-start"
                            alt="{{ img['name'] }}"
                            style="padding: 0.5rem;"
                          />
                        </div>
                        <div class="col-8">
                          <div class="card-body text-start">
                            <p class="card-text">{{ img['name'] }}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                {% endfor %}
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!--Carousel for projects-->
<section
  class="bg-secondary"
  style="
    padding-top: 20px;
    padding-left: 0;
    padding-right: 0;
    padding-bottom: 20px;
  "
>
  <div class="container-fluid">
    <div class="row g-0">
      <div class="col-md-8">
        <div
          id="projectCarousel"
          class="carousel slide"
        >
          <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#projectCarousel"
              data-bs-slide-to="0"
              class="active"
              aria-current="true"
              aria-label="Slide 1"
            ></button>
            <button
              type="button"
              data-bs-target="#projectCarousel"
              data-bs-slide-to="1"
              aria-label="Slide 2"
            ></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                src="{{ url_for('static', filename='placeholder.png') }}"
                class="d-block w-100"
                alt="Project 1"
              />
              <div class="carousel-caption text-dark">
                <h5>Project1</h5>
                <p>Some Placeholder text</p>
              </div>
            </div>
            <div class="carousel-item">
              <img
                src="{{ url_for('static', filename='placeholder.png') }}"
                class="d-block w-100"
                alt="Project 2"
              />
              <div class="carousel-caption text-dark">
                <h5>Project2</h5>
                <p>Some Placeholder text</p>
              </div>
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#projectCarousel"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#projectCarousel"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
      <div class="col-md-4 d-flex">
        <div class="text-left text-light">
          <p class="lead mx-4">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat. Duis aute irure dolor in
            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
            culpa qui officia deserunt mollit anim id est laborum.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>


<!--Man I Hate Javascript so damn much-->
 
<script>
document.addEventListener('DOMContentLoaded', function () {
  const header = document.getElementById('techstack-toggle-header');
  const marquee = document.getElementById('techStackMarquee');
  const aboutTechStack = document.getElementById('aboutTechStack');
  let isTransitioning = false;

  if (header && marquee && aboutTechStack) {
    header.addEventListener('click', function (e) {
      if (isTransitioning) {
        e.preventDefault();
        return;
      }
      // If marquee is visible, collapse it (then expand header)
      if (marquee.classList.contains('show')) {
        isTransitioning = true;
        const bsCollapse = bootstrap.Collapse.getOrCreateInstance(marquee);
        bsCollapse.hide();
      }
      // If header is visible, just collapse it (then show marquee after delay)
      else if (aboutTechStack.classList.contains('show')) {
        isTransitioning = true;
        const bsCollapseHeader = bootstrap.Collapse.getOrCreateInstance(aboutTechStack);
        bsCollapseHeader.hide();
      }
    });

    // When marquee finishes collapsing, expand the header section
    marquee.addEventListener('hidden.bs.collapse', function () {
      setTimeout(function () {
        const bsCollapseHeader = bootstrap.Collapse.getOrCreateInstance(aboutTechStack);
        if (!aboutTechStack.classList.contains('show')) {
          bsCollapseHeader.show();
        }
        isTransitioning = false;
      }, 100); // Adjust delay as needed
    });

    // When header finishes collapsing, expand the marquee after a delay
    aboutTechStack.addEventListener('hidden.bs.collapse', function () {
      setTimeout(function () {
        const bsCollapseMarquee = bootstrap.Collapse.getOrCreateInstance(marquee);
        if (!marquee.classList.contains('show')) {
          bsCollapseMarquee.show();
        }
        isTransitioning = false;
      }, 100); // Adjust delay as needed
    });
  }
});
</script>
{% endblock %}
